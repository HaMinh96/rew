import{f as r,i as n}from"./index-TYybhZOI.js";import{a2 as c,j as u}from"./index-BgtT1W5B.js";const a=c("auth",()=>{const e=u(!1);return{isLoggedIn:e,setIsLoggedIn:t=>{e.value=t}}}),i=async({username:e,password:o})=>{const{setIsLoggedIn:t}=a(),s=await r("login",{username:e,password:o});if(s!=null&&s.success)return n.defaults.headers.common={Authorization:`Bearer ${s.data.token}`},sessionStorage.setItem("accessToken",s.data.token),t(!0),s},g=()=>{const{setIsLoggedIn:e}=a();delete n.defaults.headers.common.Authorization,sessionStorage.removeItem("accessToken"),e(!1)},m=()=>({login:i,logout:g});export{a,m as u};
