import{s as w}from"./index-CugrkKYS.js";import{s as y}from"./index-Dod3mJ1f.js";import{X as b,j as c,$ as x,l as j,c as V,b as a,a as r,w as S,T as k,o as q,E as B,W as P,u as D}from"./index-DN_0AVSJ.js";import{u as E}from"./loading-CJGfdIyq.js";import{c as m}from"./index-hA2wkn7r.js";import{u as T}from"./usePowerCampus-D-JWw7Uo.js";import"./index-DYmz2SmO.js";const N={class:"m-2 px-3 px-sm-0 editor",style:{"min-height":"90%"}},R={class:"d-flex justify-content-end gap-2 mt-2"},$={class:"position-absolute align-items-center justify-content-center top-50 start-50 translate-middle",style:{display:"flex"}},A=r("div",{class:"loading-indicator"},null,-1),L=[A],I={__name:"PowerCampus",setup(M){const{powerCampusContent:n,getPowerCampusContent:p,savePowerCampusContent:f}=T(),v=E(),u=b(),t=c(""),l=c(!1),_=async()=>{l.value=!0;const e=await f(t.value);l.value=!1,e!=null&&e.success&&(n.value=t.value)},h=()=>{m(u,{message:"Do you want to cancel?",accept:()=>{t.value=n.value}})},C=()=>{m(u,{message:"Do you want to save changes?",accept:_})},d=c();return x(d,e=>{e&&(e.renderValue=(function(o){if(this.quill)if(o){const s=this.quill.clipboard.convert({html:o});this.quill.setContents(s,"silent")}else this.quill.setText("")}).bind(e))}),j(async()=>{await p(),t.value=n.value}),(e,i)=>{const o=y,s=w;return q(),V("div",N,[a(o,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=g=>t.value=g),ref_key:"editorRef",ref:d,editorStyle:"height: calc(100vh - 110px)"},null,8,["modelValue"]),r("div",R,[a(s,{label:"Cancel",severity:"secondary",onClick:h}),a(s,{label:"Save",onClick:C,loading:l.value},null,8,["loading"])]),a(k,null,{default:S(()=>[B(r("div",$,L,512),[[P,D(v).loading]])]),_:1})])}}};export{I as default};
