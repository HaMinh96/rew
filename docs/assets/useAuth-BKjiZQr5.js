import{a as r,i as n}from"./index-BXRYoPzz.js";import{a6 as c,a as i}from"./index-GFjOUyDf.js";const a=c("auth",()=>{const e=i(!1);return{isLoggedIn:e,setIsLoggedIn:t=>{e.value=t}}}),u=async({username:e,password:o})=>{const{setIsLoggedIn:t}=a(),s=await r("login",{username:e,password:o});if(s!=null&&s.success)return n.defaults.headers.common={Authorization:`Bearer ${s.data.token}`},sessionStorage.setItem("accessToken",s.data.token),t(!0),s},g=()=>{const{setIsLoggedIn:e}=a();delete n.defaults.headers.common.Authorization,sessionStorage.removeItem("accessToken"),window.location="/",e(!1)},I=()=>({login:u,logout:g});export{a,I as u};
